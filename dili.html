<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<script type="text/javascript" src="H5/js/jquery-3.3.1.js"></script>
		<title></title>
	</head>
	<body>
	</body>
	<script type="text/javascript">
		var x = document.getElementById("x");
				
		function getLocation() {
				
		  if (navigator.geolocation) {
				
		    navigator.geolocation.getCurrentPosition(showPosition, showError);
				
		  } else {
				
		    x.innerHTML = "该浏览器不支持定位功能！";
				
		  }
				
		}
				
		function showPosition(position) {
				
		  x.innerHTML = "纬度：" + position.coords.latitude + "\n经度："
				
		      + position.coords.longitude;
				
		}
				
		function showError(error) {
				
		  switch (error.code) {
				
		  case error.PERMISSION_DENIED:
				
		    x.innerHTML = "用户拒绝对获取地理位置的请求。";
				
		    break;
				
		  case error.POSITION_UNAVAILABLE:
				
		    x.innerHTML = "位置信息是不可用的。";
				
		    break;
				
		  case error.TIMEOUT:
				
		    x.innerHTML = "请求用户地理位置超时。";
				
		    break;
				
		  case error.UNKNOWN_ERROR:
				
		    x.innerHTML = "未知错误。";
				
		    break;
				
		  }
				
		}
				
		getLocation();
		$.getScript('http://int.dpool.sina.com.cn/iplookup/iplookup.php?format=js',function(){ 
		
		 alert(remote_ip_info.country);//国家 
		
		 alert(remote_ip_info.province);//省份 
		
		 alert(remote_ip_info.city);//城市 
		
		}); 

	</script>
</html>
