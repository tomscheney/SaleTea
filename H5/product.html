<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0;">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<script src="js/jquery-3.3.1.js"></script>
		<script src="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#2" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript" src="js/jquery-addShopping.js"></script>
		<script src="js/swiper-5.0.4/package/js/swiper.min.js"></script>
		<script src="js/jquery.fly.min.js"></script>
		<!-- Link Swiper's CSS -->
		<link rel="stylesheet" href="js/swiper-5.0.4/package/css/swiper.min.css">
		<link rel="stylesheet" href="js/bootstrap-3.3.7-dist/css/bootstrap.css">
		<link rel="stylesheet" type="text/css" href="css/product.css" />
		<title>详情页</title>
	</head>
	<body>
		<!-- 轮播图 -->
		<div class="swiper-top">
			<div class="swiper-container">
				<div class="swiper-wrapper"></div>
				<div class="swiper-pagination"></div>
			</div>
		</div>
		<!-- 文字详情 -->
		<div class="write">
			<span class="tit-name"></span>
			<div class="price">
				<span class="tit-price"></span><span>|</span><span>不可退款</span>
			</div>
		</div>
		<!-- 一条没有感情的分割线 -->
		<hr class="hr-1">
		<!-- 包邮 -->
		<button type="button" class="btn">包邮</button>
		<!-- 又一条没有感情的分割线 -->
		<hr class="hr-2">
		<!-- 商品详情 -->
		<div class="Commodity-details">
			<div class="details">
				<p>商品详情</p>
				<hr class="hr-3">
			</div>
			<table class="table table-striped">
				<tbody>
					<tr>
						<td>产地</td>
						<td class="productPlace"></td>
					</tr>
					<tr>
						<td>包装</td>
						<td class="wrapping"></td>
					</tr>
					<tr>
						<td>品牌</td>
						<td class="brand"></td>
					</tr>
					<tr>
						<td>保质期</td>
						<td class="qualityPeriod"></td>
					</tr>
					<tr>
						<td>规格</td>
						<td class="standards"></td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- 亮点 -->
		<div class="Bright-spot">
			<div class="spot">
				<p>亮点</p>
				<hr class="hr-4">
			</div>
			<div class="Bright-spot-1">
				<div class="Bright-spot-1-l">
					<img src="https://47.112.98.24/tea/images/001.jpg">
				</div>
				<div class="Bright-spot-1-r">
					<span></span>
				</div>
			</div>
			<div class="Bright-spot-1">
				<div class="Bright-spot-1-l">
					<img src="https://47.112.98.24/tea/images/002.jpg">
				</div>
				<div class="Bright-spot-1-r">
					<span></span>
				</div>
			</div>
			<div class="Bright-spot-1">
				<div class="Bright-spot-1-l">
					<img src="https://47.112.98.24/tea/images/001.jpg">
				</div>
				<div class="Bright-spot-1-r">
					<span></span>
				</div>
			</div>
		</div>
		<!-- 猜你喜欢 -->
		<div class="like">
			<div class="spot">
				<p>猜你喜欢</p>
				<hr class="hr-4">
			</div>
			<div class="like-1">
				<img src="img/gushu-(3).jpg" />
				<p>芷贤斋 正山小种</p>
				<p style="color: red;">547.3元/份</p>
			</div>
			<div class="like-1">
				<img src="img/qing4-(6).jpg" />
				<p>芷贤斋 正山小种</p>
				<p style="color: red;">547.3元/份</p>
			</div>
			<div class="like-1">
				<img src="img/qing4-(6).jpg" />
				<p>芷贤斋 正山小种</p>
				<p style="color: red;">547.3元/份</p>
			</div>
			<div class="like-1">
				<img src="img/qing4-(4).jpg" />
				<p>芷贤斋 正山小种</p>
				<p style="color: red;">547.3元/份</p>
			</div>
		</div>
		<!-- 购物车 -->
		<div class="shopping-car">
			<div>
				<button onclick="addCar()" class="123" id="btn-car1"><img src="img/car.jpg">
					<p class="yuan"><span id="num">0</span></p><span class="jia1">+1</span>
				</button>
				<button id="btn-car2">加入购物车</button>
				<button onclick="adCar()" id="btn-car3">立即购买</button>
			</div>
		</div>
	</body>
	<script>
		var mySwiper = new Swiper('.swiper-container', {
			loop: true, // 循环模式选项
			autoplay: true, //等同于以下设置
			pagination: {
				el: '.swiper-pagination' // 分页器
			},
			observer: true,//修改swiper自己或子元素时，自动初始化swiper
			observeParents: true,//修改swiper的父元素时，自动初始化swiper
		})
		$("#btn-car2").click(function() {
			$(".yuan").show();
			$("#num").show();
			$(".jia1").show(100);
			$(".jia1").show().delay(1000).fadeOut();
		})
		// 点击添加购物车
		$(function() {
			$('#btn-car2').shoping({
				endElement: ".yuan",
				iconCSS: "",
				iconImg: "img/l.JPG",
				endFunction: function(element) {
					$("#num").html(parseInt($("#num").html()) + 1);
					console.log(element);
					return false;
				},
				AddShop();
				console.log(AddShop());
			})
		})
	
		$(document).ready(function() {
			console.log("dianji le ")
			$.ajax({
				url: "https://kidstoms.com/getAllProduct",
				type: "post",
				// contentType: "application/json",
				dataType: "json",
				data: {
					productId: '88880001',
				},
				success: function(res) { // res就是后台接口返回的数据
					console.log(res)
					console.log(res.data)
					console.log(res.data[0])
					// 标题 价格
					$(".tit-name").text(res.data[0].productDesc);
					$(".tit-price").text(res.data[0].salePrice + '元 / 份');
					// 产品信息
					$(".productPlace").text(res.data[0].productDetail.productPlace);
					$(".wrapping").text(res.data[0].productDetail.wrapping);
					$(".brand").text(res.data[0].productDetail.brand);
					var len=[];
					len = res.data[0].productImages;
					var html = "";
					console.log(len)			     
					        for(var i = 0; i < len.length; i++){   
								var imgI = len[i];
					           html += '<div class="swiper-slide">'  
                                         + '<img src='+imgI+'/>'
                                         + '</div>';
					        }
					$(".swiper-wrapper").html(html);
					console.log($(".swiper-wrapper").html(html));
					$(".qualityPeriod").text(res.data[0].productDetail.qualityPeriod);
					$(".standards").text(res.data[0].productDetail.standards);
					// 产品亮点
					$(".Bright-spot-1-r>span").text(res.data[0].productFeatures.featureDesc)
				},
			})
			error: function data() {
				console.log("dataerro", data);
			}
		});
	</script>
</html>
